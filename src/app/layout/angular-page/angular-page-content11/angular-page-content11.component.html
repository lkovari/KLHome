<div class="layout-angular-playground-page11">
    <div>
        This page is a <b>playground</b>, I show on this page Angular v2+ source code snippets, what I learned at last
        or just which interested in, for me.
    </div>
    <div class="sub-topic">
        <b>Act #11</b>
        <div class="top-gap">
            <label class="text-primary">
                <a class="horizontal-gap-left horizontal-gap-right"
                    href="https://github.com/lkovari/KLHome/tree/master/src/app/layout/angular-page/angular-page-content11">
                    <img [src]="githubLogoPath" width="16" height="16">
                </a>
                Example of a reactive CheckListComponent, where one list item is a form (FormGroup) and where the list
                is a FormArray. Currently manually handling the ChecklistComponent statuses I mean programmatically call
                markAsDirty() and markAsTouched(). I will figure out how can I use SelectControlValueAccessor and
                SelectMultipleControlValueAccessor
            </label>
            <label><span class="text-primary">We can observe</span> in the source code of the ChecklistComponent, instead of function isChecklisItemSelected() we have used a pure pipe with the same name isChecklisItemSelected. If we would have used a function, then it would have been called many times. Instead of the function, the pure pipe is just called when the value is changed.</label>
            <label>The usage of the pure pipe <span class="font-italic">( checklistItems | isChecklisItemSelected : checklistFormGroupItem )</span></label>
        </div>
    </div>
    <div class="sub-topic">
        <label><b>The
                <a class="horizontal-gap-left horizontal-gap-right"
                    href="https://github.com/lkovari/KLHome/tree/master/src/app/shared/components/checklist">
                    <img [src]="githubLogoPath" width="16" height="16">
                </a> app-checklist Component is </b><span class="text-primary">UNDER CONSTRUCTION!</span>
                <div class="sub-topic">
                    (In the future I will implement to use this checklist component as the Yes-no questions sheet, the normal answers will pass and the component will validate the user answers based on the predefined normal values.)
                </div>
                <p>
                    Current Validation rule(s): one item selection is required!
                </p>
        </label>
        <form class="sub-topic" [formGroup]="exampleForm" (ngSubmit)="onSubmit(exampleForm)" novalidate autocomplete="off">
            <div>
                <label>Selection mode</label>
                <label class="form-check-inline" for="multiselect">
                    <input id="multiselect" class="form-check-input horizontal-gap" type="radio" [value]="MULTISELECT" formControlName="selectionMode">Multiple
                </label>
                <label class="form-check-inline" for="singleselect">
                    <input id="singleselect" class="form-check-input" type="radio" [value]="SINGLESELECT" formControlName="selectionMode">Single
                </label>(Single: SelectionMode.SINGLE: {{SINGLESELECT}})
            </div>
            <div class="">
                <label for="withDebounceChb">Select items which marked Normal = true</label>
                <input class="horizontal-gap" id="selectNormal" type="checkbox" [disabled]="selectionMode === SINGLESELECT" 
                    formControlName="selectNormal">
                <label class="horizontal-gap">(last three items)</label>
            </div>            
            <div class="form-group row mb-2">
                <app-checklist [checklistItems]="checklistItems" formArrayName="customCheckList"
                    #customCheckList
                    [selectionMode]="selectionMode"
                    [selectNormal]="selectNormal"
                    [required]="true"
                    [ngClass]="{'is-invalid': 
                            (exampleForm.get('customCheckList')?.touched ||
                            exampleForm.get('customCheckList')?.dirty) &&
                            !exampleForm.get('customCheckList')?.valid }"
                    >
                </app-checklist>
            </div>
        </form>
        <div class="buttons-area">
            <button class="btn btn-primary" type="button" (click)="onSelectAll()" [disabled]="selectionMode === SINGLESELECT" >Select All</button>
            <button class="btn btn-primary horizontal-gap" type="button" (click)="onUnselectAll()">Unselect All</button>
          </div>   
        <div>
            <label class="sub-topic">Form Validation Status {{ showFormStatus() }} </label>
        </div>
        <div>
            <label class="sub-topic">Selected {{ showCheckedItems() | json }} </label>
        </div>
    </div>
    <lk-form-validation-monitor-v4 [mainFormGroup]="exampleForm" topGap="5"></lk-form-validation-monitor-v4>
</div>