<div class="layout-angular-playground-page11">
    <div>
        This page is a <b>playground</b>, I show on this page Angular v2+ source code snippets, what I learned at last
        or just which interested in, for me.
    </div>
    <div class="sub-topic">
        <b>Act #11</b>
        <div class="top-gap">
            <label class="text-primary">
                <a class="horizontal-gap-left horizontal-gap-right"
                    href="https://github.com/lkovari/KLHome/tree/master/src/app/layout/angular-page/angular-page-content11">
                    <img [src]="githubLogoPath" width="16" height="16">
                </a>
                Example of a reactive CheckListComponent, where one list item is a form (FormGroup) and where the list
                is a FormArray.
            </label>
        </div>
    </div>
    <div class="sub-topic">
        <label><b>The
                <a class="horizontal-gap-left horizontal-gap-right"
                    href="https://github.com/lkovari/KLHome/tree/master/src/app/shared/components/checklist">
                    <img [src]="githubLogoPath" width="16" height="16">
                </a> app-checklist Component is </b><span class="text-warning">UNDER CONSTRUCTION!</span>
        </label>
        <p>
            (In the future I will implement to use this checklist component as the Yes-no questions sheet, the normal answers will pass and the component will validate the user answers based on the predefined normal values.)
        </p>
        <p>
            Current Validation rule(s): <a class="horizontal-gap-left horizontal-gap-right"
            href="https://github.com/lkovari/KLHome/tree/master/src/app/shared/components/checklist/checklist-validators.ts">
            <img [src]="githubLogoPath" width="16" height="16">one item selection is required!</a>
        </p>
        <label class="text-danger">Known bug(s) When unselect a list item (just click on the row not on the check box) the form validation status remains VALID, but we can observe on the console the CheckListFormArray show the correct status which INVALID.</label>
        <form class="sub-topic" [formGroup]="exampleForm" (ngSubmit)="onSubmit(exampleForm)" novalidate autocomplete="off">
            <div>
                <label>Selection mode</label>
                <label class="form-check-inline" for="multiselect">
                    <input id="multiselect" class="form-check-input horizontal-gap" type="radio" [value]="MULTISELECT" formControlName="selectionMode">Multiple
                </label>
                <label class="form-check-inline" for="singleselect">
                    <input id="singleselect" class="form-check-input" type="radio" [value]="SINGLESELECT" formControlName="selectionMode">Single
                </label>(Single: SelectionMode.SINGLE: {{SINGLESELECT}})
            </div>
            <div class="">
                <label for="withDebounceChb">Highlight items which marked Normal = true</label>
                <input class="horizontal-gap" id="selectNormal" type="checkbox"
                    formControlName="selectNormal">
                <label class="horizontal-gap">(3rd. 6th. 8th. items)</label>
            </div>            
            <div class="form-group row mb-2">
                <app-checklist [checklistItems]="checklistItems"
                    #checkListFormArrayControl
                    [selectionMode]="selectionMode"
                    [selectNormal]="selectNormal"
                    [required]="true"
                    formControlName="checkList"
                    (onClick)="onClick($event)"
                    >
                    <span *ngIf="exampleForm?.get('checkList')?.dirty && exampleForm?.get('checkList')?.errors?.invalidForm" class="show-invalid-feedback">
                        {{ exampleForm?.get('checkList')?.errors?.invalidForm.message }}
                    </span>
                </app-checklist>
            </div>
        </form>
        <div class="buttons-area">
            <button class="btn btn-primary" type="button" (click)="onSelectAll()" [disabled]="selectionMode === SINGLESELECT" >Select All</button>
            <button class="btn btn-primary horizontal-gap" type="button" (click)="onUnselectAll()">Unselect All</button>
          </div>   
        <div>
            <label class="sub-topic">Validation Status {{ exampleForm.status }} </label>
            <label class="sub-topic">Selected {{ showCheckedItems() | json }} </label>
        </div>
    </div>
    <!--lk-form-validation-monitor-v4 [mainFormGroup]="exampleForm" topGap="1"></lk-form-validation-monitor-v4-->
</div>